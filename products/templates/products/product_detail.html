{% extends 'base.html' %}
{% load static formatting %}

{% block title %}{{ product.title }} — TopTechShop{% endblock %}

{% block content %}
<div class="site-section" id="section-product-detail">
  <div class="container">
    <div class="mb-3">
      <a href="{% url 'core:home' %}">Главная</a> / <a href="{% url 'products:index' %}">Товары</a> / {{ product.title }}
    </div>
    <div class="row">
      <div class="col-md-6">
        <img src="{% if product.cover %}{{ product.cover.url }}{% else %}{% static 'logis/images/img_1.jpg' %}{% endif %}" alt="{{ product.title }}" class="img-fluid rounded">
      </div>
      <div class="col-md-6">
        <h2 class="text-primary">{{ product.title }}</h2>
        <p>{{ product.description }}</p>
        <p><strong>Цена:</strong> {{ product.price|format_price }}</p>
        <a href="{% url 'cart:index' %}" class="btn btn-primary py-2 px-4 text-white">Добавить в корзину</a>
        <button class="btn btn-outline-primary" type="button" data-favorite>В избранное</button>
        <div class="mt-3">
          <a href="{% url 'products:edit' slug=product.slug %}" data-no-rights>Редактировать</a> |
          <a href="{% url 'products:delete' slug=product.slug %}" data-no-rights>Удалить</a>
        </div>
        <div class="mt-4" data-tab>
          <button class="btn btn-link" type="button" data-tab-target="#tab-desc">Описание</button>
          <button class="btn btn-link" type="button" data-tab-target="#tab-files">Файлы</button>
        </div>
        <div id="tab-desc" data-tab-content>{{ product.description }}</div>
        <div id="tab-files" data-tab-content style="display:none;">Файлы доступны после покупки.</div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
